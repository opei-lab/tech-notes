
    <html lang="ja">
    <head>
    <meta charset="UTF-8">
    <title>Docker命令一覧（強化版）</title>
    <style>
      body {
        font-family: 'Segoe UI', sans-serif;
        background: #f7f9fb;
        padding: 2rem;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        border-radius: 8px;
        overflow: hidden;
        background-color: white;
        box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      }
      th, td {
        padding: 0.75rem 1rem;
        border-bottom: 1px solid #eee;
        text-align: left;
      }
      th {
        background-color: #4F46E5;
        color: white;
        cursor: pointer;
      }
      tr:nth-child(even) {
        background-color: #f9fafb;
      }
      tr:hover {
        background-color: #eef2ff;
      }
      .expand {
        display: none;
        background-color: #f1f5f9;
        padding: 0.75rem 1rem;
        border-left: 4px solid #4F46E5;
        font-size: 0.9rem;
      }
      .badge {
        padding: 0.2rem 0.5rem;
        border-radius: 4px;
        font-size: 0.8rem;
        font-weight: 500;
        color: white;
      }
      .badge-基本 { background: #10b981; }
      .badge-中級 { background: #3b82f6; }
      .badge-補足 { background: #f59e0b; }
      .badge-非命令 { background: #6b7280; }
      .badge-非推奨 { background: #ef4444; }
      .badge-Windows限定 { background: #6366f1; }
    </style>
    </head>
    <body>
    <h2>Docker命令一覧</h2>
    <table id="dockerTable">
      <thead>
        <tr>
          <th onclick="sortTable(0)">命令</th>
          <th onclick="sortTable(1)">説明</th>
          <th onclick="sortTable(2)">分類</th>
          <th onclick="sortTable(3)">重要度</th>
        </tr>
      </thead>
      <tbody>
    
        <tr onclick="toggleDetails(this)">
          <td>FROM</td>
          <td>ベースイメージを指定</td>
          <td><span class="badge badge-基本">基本</span></td>
          <td>★★★★★</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> Dockerfileの最初に使用し、使用する<span title="Dockerで使用する土台のOSや環境。これをもとにアプリケーションを構築します（例: Ubuntu, node など）。" style="border-bottom:1px dotted #888; cursor:help;"><span title="Dockerで使用する土台のOSや環境。これをもとにアプリケーションを構築します（例: Ubuntu, node など）。" style="border-bottom:1px dotted #888; cursor:help;">ベースイメージ</span></span>（例: OSや言語ランタイム）を指定します。<br>
            <strong>例:</strong> <code>FROM ubuntu:20.04</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>LABEL</td>
          <td>メタデータを付加</td>
          <td><span class="badge badge-補足">補足</span></td>
          <td>★★</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> Dockerイメージにラベル（キー=値のペア）形式でメタ情報を追加できます。<br>
            <strong>例:</strong> <code>LABEL maintainer="yourname@example.com"</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>ENV</td>
          <td>環境変数を定義</td>
          <td><span class="badge badge-中級">中級</span></td>
          <td>★★★★</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> イメージ内で使用する環境変数を設定します。<br>
            <strong>例:</strong> <code>ENV NODE_ENV=production</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>ARG</td>
          <td>ビルド時変数を定義</td>
          <td><span class="badge badge-中級">中級</span></td>
          <td>★★★</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> ビルド時に使う変数を定義します。ENVとは異なり、ビルド後は保持されません。<br>
            <strong>例:</strong> <code>ARG VERSION=1.0</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>COPY</td>
          <td>ファイルをコピー</td>
          <td><span class="badge badge-基本">基本</span></td>
          <td>★★★★★</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> <span title="Dockerがファイルを読み取る対象のフォルダ。通常はDockerfileがあるディレクトリのことです。" style="border-bottom:1px dotted #888; cursor:help;"><span title="Dockerがファイルを読み取る対象のフォルダ。通常はDockerfileがあるディレクトリのことです。" style="border-bottom:1px dotted #888; cursor:help;">ビルドコンテキスト</span></span>内のファイルをイメージにコピーします。<br>
            <strong>例:</strong> <code>COPY . /app</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>ADD</td>
          <td>ファイル追加（非推奨）</td>
          <td><span class="badge badge-非推奨">非推奨</span></td>
          <td>★</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> COPYに似ているが、自動解凍やURLダウンロードなど追加機能がある分、挙動が複雑になるため非推奨です。<br>
            <strong>例:</strong> <code>ADD https://example.com/file.tar.gz /app/</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>WORKDIR</td>
          <td>作業ディレクトリを設定</td>
          <td><span class="badge badge-基本">基本</span></td>
          <td>★★★★★</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> コマンド実行時の作業ディレクトリを指定します。<br>
            <strong>例:</strong> <code>WORKDIR /app</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>RUN</td>
          <td>コマンドを実行</td>
          <td><span class="badge badge-基本">基本</span></td>
          <td>★★★★★</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> ビルド時にコマンドを実行します（例: パッケージのインストールなど）。<br>
            <strong>例:</strong> <code>RUN apt-get update && apt-get install -y nginx</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>CMD</td>
          <td>デフォルト実行コマンドを定義</td>
          <td><span class="badge badge-基本">基本</span></td>
          <td>★★★★</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> <span title="Dockerで実行される軽量な仮想環境のようなもの。" style="border-bottom:1px dotted #888; cursor:help;"><span title="Dockerで実行される軽量な仮想環境のようなもの。" style="border-bottom:1px dotted #888; cursor:help;">コンテナ</span></span>起動時のデフォルト実行コマンドを指定します（docker run で上書き可能）。<br>
            <strong>例:</strong> <code>CMD ["nginx", "-g", "daemon off;"]</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>ENTRYPOINT</td>
          <td>実行エントリを固定</td>
          <td><span class="badge badge-中級">中級</span></td>
          <td>★★★</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> <span title="<span title="Dockerで実行される軽量な仮想環境のようなもの。" style="border-bottom:1px dotted #888; cursor:help;"><span title="Dockerで実行される軽量な仮想環境のようなもの。" style="border-bottom:1px dotted #888; cursor:help;">コンテナ</span></span>起動時のデフォルトコマンド。docker run 時に上書き可能。" style="border-bottom:1px dotted #888; cursor:help;"><span title="<span title="Dockerで実行される軽量な仮想環境のようなもの。" style="border-bottom:1px dotted #888; cursor:help;">コンテナ</span>起動時のデフォルトコマンド。docker run 時に上書き可能。" style="border-bottom:1px dotted #888; cursor:help;">CMD</span></span>と似ていますが、上書きされにくく実行のベースを固定できます。<br>
            <strong>例:</strong> <code>ENTRYPOINT ["/entrypoint.sh"]</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>EXPOSE</td>
          <td>ポートを公開</td>
          <td><span class="badge badge-中級">中級</span></td>
          <td>★★★★</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> <span title="Dockerで実行される軽量な仮想環境のようなもの。" style="border-bottom:1px dotted #888; cursor:help;"><span title="Dockerで実行される軽量な仮想環境のようなもの。" style="border-bottom:1px dotted #888; cursor:help;">コンテナ</span></span>が利用するネットワークポートを定義します（実際の公開にはdocker run -pが必要）。<br>
            <strong>例:</strong> <code>EXPOSE 80</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>VOLUME</td>
          <td>ボリュームを定義</td>
          <td><span class="badge badge-中級">中級</span></td>
          <td>★★★</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> <span title="Dockerで実行される軽量な仮想環境のようなもの。" style="border-bottom:1px dotted #888; cursor:help;"><span title="Dockerで実行される軽量な仮想環境のようなもの。" style="border-bottom:1px dotted #888; cursor:help;">コンテナ</span></span>とホスト間で共有する永続化データのためのディレクトリを定義します。<br>
            <strong>例:</strong> <code>VOLUME /data</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>USER</td>
          <td>実行ユーザーを指定</td>
          <td><span class="badge badge-中級">中級</span></td>
          <td>★★</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> 以後の命令で使用するユーザーを指定します。セキュリティ対策にも有効です。<br>
            <strong>例:</strong> <code>USER nginx</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>ONBUILD</td>
          <td>継承時に自動実行</td>
          <td><span class="badge badge-補足">補足</span></td>
          <td>★</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> このイメージを継承したDockerfileがビルドされるときに実行される命令です。<br>
            <strong>例:</strong> <code>ONBUILD COPY . /app</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>STOPSIGNAL</td>
          <td>停止シグナルを指定</td>
          <td><span class="badge badge-補足">補足</span></td>
          <td>★</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> <span title="Dockerで実行される軽量な仮想環境のようなもの。" style="border-bottom:1px dotted #888; cursor:help;"><span title="Dockerで実行される軽量な仮想環境のようなもの。" style="border-bottom:1px dotted #888; cursor:help;">コンテナ</span></span>停止時に送信されるUNIX<span title="UNIX/Linuxシステムでプロセス制御に使われる通知（SIGTERM, SIGKILLなど）。" style="border-bottom:1px dotted #888; cursor:help;"><span title="UNIX/Linuxシステムでプロセス制御に使われる通知（SIGTERM, SIGKILLなど）。" style="border-bottom:1px dotted #888; cursor:help;">シグナル</span></span>を指定します。<br>
            <strong>例:</strong> <code>STOPSIGNAL SIGTERM</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>HEALTHCHECK</td>
          <td>ヘルスチェックを定義</td>
          <td><span class="badge badge-補足">補足</span></td>
          <td>★★</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> <span title="Dockerで実行される軽量な仮想環境のようなもの。" style="border-bottom:1px dotted #888; cursor:help;"><span title="Dockerで実行される軽量な仮想環境のようなもの。" style="border-bottom:1px dotted #888; cursor:help;">コンテナ</span></span>の正常性を判定するためのコマンドを指定します。<br>
            <strong>例:</strong> <code>HEALTHCHECK CMD curl --fail http://localhost:80 || exit 1</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>SHELL</td>
          <td>使用するシェルを指定</td>
          <td><span class="badge badge-補足">補足</span></td>
          <td>★</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> <span title="Dockerイメージ作成時に実行するシェルコマンド。" style="border-bottom:1px dotted #888; cursor:help;"><span title="Dockerイメージ作成時に実行するシェルコマンド。" style="border-bottom:1px dotted #888; cursor:help;">RUN</span></span>などの命令で使用されるデフォルトのシェルを指定します。<br>
            <strong>例:</strong> <code>SHELL ["/bin/bash", "-c"]</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>MAINTAINER</td>
          <td>旧式の作者情報（非推奨）</td>
          <td><span class="badge badge-非推奨">非推奨</span></td>
          <td>★</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> 古い形式で作者情報を記述する命令。現在は<span title="イメージにメタ情報（作者やバージョンなど）を付けるための設定。" style="border-bottom:1px dotted #888; cursor:help;"><span title="イメージにメタ情報（作者やバージョンなど）を付けるための設定。" style="border-bottom:1px dotted #888; cursor:help;">LABEL</span></span>を使用すべきです。<br>
            <strong>例:</strong> <code>MAINTAINER yourname@example.com</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>ESCAPE</td>
          <td>Windows用のエスケープ指定</td>
          <td><span class="badge badge-Windows限定">Windows限定</span></td>
          <td>★</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> Windows<span title="Dockerで実行される軽量な仮想環境のようなもの。" style="border-bottom:1px dotted #888; cursor:help;"><span title="Dockerで実行される軽量な仮想環境のようなもの。" style="border-bottom:1px dotted #888; cursor:help;">コンテナ</span></span>向けにエスケープ文字（\ または `）を指定します。<br>
            <strong>例:</strong> <code># escape=`</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>#（コメント）</td>
          <td>コメントを記述する</td>
          <td><span class="badge badge-非命令">非命令</span></td>
          <td>-</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> Dockerfileに説明を追加するために使用します。実行には影響しません。<br>
            <strong>例:</strong> <code># この行はコメントです</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>空行・改行</td>
          <td>可読性のための空白行</td>
          <td><span class="badge badge-非命令">非命令</span></td>
          <td>-</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> Dockerfileは空白行や改行を無視します。セクションを分けるのに使えます。<br>
            <strong>例:</strong> <code>(空行)</code>
          </td>
        </tr>
        
        <tr onclick="toggleDetails(this)">
          <td>改行バックスラッシュ</td>
          <td>複数行のコマンドに分ける</td>
          <td><span class="badge badge-非命令">非命令</span></td>
          <td>-</td>
        </tr>
        <tr class="expand">
          <td colspan="4">
            <strong>解説:</strong> コマンドを複数行に分けて記述するためにバックスラッシュ（\）を使用します。<br>
            <strong>例:</strong> <code>RUN apt-get update && \
    apt-get install -y curl</code>
          </td>
        </tr>
        
      </tbody>
    </table>
    <script>
      function toggleDetails(row) {
        const next = row.nextElementSibling;
        if (next && next.classList.contains('expand')) {
          next.style.display = next.style.display === 'table-row' ? 'none' : 'table-row';
        }
      }

      function sortTable(colIndex) {
        const table = document.getElementById("dockerTable");
        const rows = Array.from(table.querySelectorAll("tbody tr"))
                          .filter((_, i) => i % 2 === 0); // clickable rows only

        const expandedRows = Array.from(table.querySelectorAll("tbody tr"))
                          .filter((_, i) => i % 2 === 1); // detail rows

        const sorted = rows.map((row, i) => [row, expandedRows[i]]);
        let asc = table.getAttribute("data-sort-dir") !== "asc";
        sorted.sort((a, b) => {
          const x = a[0].cells[colIndex].innerText.toLowerCase();
          const y = b[0].cells[colIndex].innerText.toLowerCase();
          return asc ? x.localeCompare(y) : y.localeCompare(x);
        });

        const tbody = table.querySelector("tbody");
        sorted.forEach(pair => {
          tbody.appendChild(pair[0]);
          tbody.appendChild(pair[1]);
        });
        table.setAttribute("data-sort-dir", asc ? "asc" : "desc");
      }
    </script>
    </body></html>
    